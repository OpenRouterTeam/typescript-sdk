/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: 2dbd9fc61ed8
 */

import * as z from "zod/v4";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import {
  ChatMessageTokenLogprob,
  ChatMessageTokenLogprob$inboundSchema,
} from "./chatmessagetokenlogprob.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";

/**
 * Log probabilities for the completion
 */
export type ChatMessageTokenLogprobs = {
  /**
   * Log probabilities for content tokens
   */
  content: Array<ChatMessageTokenLogprob> | null;
  /**
   * Log probabilities for refusal tokens
   */
  refusal: Array<ChatMessageTokenLogprob> | null;
};

/** @internal */
export const ChatMessageTokenLogprobs$inboundSchema: z.ZodType<
  ChatMessageTokenLogprobs,
  unknown
> = z.object({
  content: z.nullable(z.array(ChatMessageTokenLogprob$inboundSchema)),
  refusal: z.nullable(z.array(ChatMessageTokenLogprob$inboundSchema)),
});

export function chatMessageTokenLogprobsFromJSON(
  jsonString: string,
): SafeParseResult<ChatMessageTokenLogprobs, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ChatMessageTokenLogprobs$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ChatMessageTokenLogprobs' from JSON`,
  );
}
