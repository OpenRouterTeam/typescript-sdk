/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: f98a2a558f3f
 */

import * as z from "zod/v4";
import { remap as remap$ } from "../lib/primitives.js";
import * as openEnums from "../types/enums.js";
import { OpenEnum } from "../types/enums.js";
import {
  ChatStreamOptions,
  ChatStreamOptions$Outbound,
  ChatStreamOptions$outboundSchema,
} from "./chatstreamoptions.js";
import {
  Message,
  Message$Outbound,
  Message$outboundSchema,
} from "./message.js";
import {
  ProviderSortUnion,
  ProviderSortUnion$Outbound,
  ProviderSortUnion$outboundSchema,
} from "./providersortunion.js";
import {
  ReasoningSummaryVerbosity,
  ReasoningSummaryVerbosity$outboundSchema,
} from "./reasoningsummaryverbosity.js";
import {
  ResponseFormatJSONSchema,
  ResponseFormatJSONSchema$Outbound,
  ResponseFormatJSONSchema$outboundSchema,
} from "./responseformatjsonschema.js";
import {
  ResponseFormatTextGrammar,
  ResponseFormatTextGrammar$Outbound,
  ResponseFormatTextGrammar$outboundSchema,
} from "./responseformattextgrammar.js";
import {
  Schema10,
  Schema10$Outbound,
  Schema10$outboundSchema,
} from "./schema10.js";
import {
  Schema17,
  Schema17$Outbound,
  Schema17$outboundSchema,
} from "./schema17.js";
import {
  Schema19,
  Schema19$Outbound,
  Schema19$outboundSchema,
} from "./schema19.js";
import {
  Schema5,
  Schema5$Outbound,
  Schema5$outboundSchema,
} from "./schema5.js";
import {
  ToolDefinitionJson,
  ToolDefinitionJson$Outbound,
  ToolDefinitionJson$outboundSchema,
} from "./tooldefinitionjson.js";

export const Schema3 = {
  Deny: "deny",
  Allow: "allow",
} as const;
export type Schema3 = OpenEnum<typeof Schema3>;

export const Schema8 = {
  Int4: "int4",
  Int8: "int8",
  Fp4: "fp4",
  Fp6: "fp6",
  Fp8: "fp8",
  Fp16: "fp16",
  Bf16: "bf16",
  Fp32: "fp32",
  Unknown: "unknown",
} as const;
export type Schema8 = OpenEnum<typeof Schema8>;

export type Schema15 = {
  p50?: number | null | undefined;
  p75?: number | null | undefined;
  p90?: number | null | undefined;
  p99?: number | null | undefined;
};

export type Schema15Union = number | Schema15;

export type Schema0 = {
  allowFallbacks?: boolean | null | undefined;
  requireParameters?: boolean | null | undefined;
  dataCollection?: Schema3 | null | undefined;
  zdr?: boolean | null | undefined;
  enforceDistillableText?: boolean | null | undefined;
  order?: Array<Schema5> | null | undefined;
  only?: Array<Schema5> | null | undefined;
  ignore?: Array<Schema5> | null | undefined;
  quantizations?: Array<Schema8> | null | undefined;
  sort?: ProviderSortUnion | null | undefined;
  maxPrice?: Schema10 | undefined;
  preferredMinThroughput?: number | Schema15 | null | undefined;
  preferredMaxLatency?: number | Schema15 | null | undefined;
};

export const Route = {
  Fallback: "fallback",
  Sort: "sort",
} as const;
export type Route = OpenEnum<typeof Route>;

export const Effort = {
  Xhigh: "xhigh",
  High: "high",
  Medium: "medium",
  Low: "low",
  Minimal: "minimal",
  None: "none",
} as const;
export type Effort = OpenEnum<typeof Effort>;

export type Reasoning = {
  effort?: Effort | null | undefined;
  summary?: ReasoningSummaryVerbosity | null | undefined;
};

export type ResponseFormatPython = {
  type: "python";
};

export type ResponseFormatJSONObject = {
  type: "json_object";
};

export type ResponseFormatText = {
  type: "text";
};

export type ResponseFormat =
  | ResponseFormatText
  | ResponseFormatJSONObject
  | ResponseFormatJSONSchema
  | ResponseFormatTextGrammar
  | ResponseFormatPython;

export type Stop = string | Array<string>;

export type Debug = {
  echoUpstreamBody?: boolean | undefined;
};

export type ChatGenerationParamsImageConfig = string | number | Array<any>;

export const Modality = {
  Text: "text",
  Image: "image",
} as const;
export type Modality = OpenEnum<typeof Modality>;

export type ChatGenerationParams = {
  provider?: Schema0 | null | undefined;
  plugins?: Array<Schema17> | undefined;
  route?: Route | null | undefined;
  user?: string | undefined;
  sessionId?: string | undefined;
  trace?: Schema19 | undefined;
  messages: Array<Message>;
  model?: string | undefined;
  models?: Array<string> | undefined;
  frequencyPenalty?: number | null | undefined;
  logitBias?: { [k: string]: number } | null | undefined;
  logprobs?: boolean | null | undefined;
  topLogprobs?: number | null | undefined;
  maxCompletionTokens?: number | null | undefined;
  maxTokens?: number | null | undefined;
  metadata?: { [k: string]: string } | undefined;
  presencePenalty?: number | null | undefined;
  reasoning?: Reasoning | undefined;
  responseFormat?:
    | ResponseFormatText
    | ResponseFormatJSONObject
    | ResponseFormatJSONSchema
    | ResponseFormatTextGrammar
    | ResponseFormatPython
    | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream?: boolean | undefined;
  streamOptions?: ChatStreamOptions | null | undefined;
  temperature?: number | null | undefined;
  toolChoice?: any | undefined;
  tools?: Array<ToolDefinitionJson> | undefined;
  topP?: number | null | undefined;
  debug?: Debug | undefined;
  imageConfig?: { [k: string]: string | number | Array<any> } | undefined;
  modalities?: Array<Modality> | undefined;
};

/** @internal */
export const Schema3$outboundSchema: z.ZodType<string, Schema3> = openEnums
  .outboundSchema(Schema3);

/** @internal */
export const Schema8$outboundSchema: z.ZodType<string, Schema8> = openEnums
  .outboundSchema(Schema8);

/** @internal */
export type Schema15$Outbound = {
  p50?: number | null | undefined;
  p75?: number | null | undefined;
  p90?: number | null | undefined;
  p99?: number | null | undefined;
};

/** @internal */
export const Schema15$outboundSchema: z.ZodType<Schema15$Outbound, Schema15> = z
  .object({
    p50: z.nullable(z.number()).optional(),
    p75: z.nullable(z.number()).optional(),
    p90: z.nullable(z.number()).optional(),
    p99: z.nullable(z.number()).optional(),
  });

export function schema15ToJSON(schema15: Schema15): string {
  return JSON.stringify(Schema15$outboundSchema.parse(schema15));
}

/** @internal */
export type Schema15Union$Outbound = number | Schema15$Outbound;

/** @internal */
export const Schema15Union$outboundSchema: z.ZodType<
  Schema15Union$Outbound,
  Schema15Union
> = z.union([z.number(), z.lazy(() => Schema15$outboundSchema)]);

export function schema15UnionToJSON(schema15Union: Schema15Union): string {
  return JSON.stringify(Schema15Union$outboundSchema.parse(schema15Union));
}

/** @internal */
export type Schema0$Outbound = {
  allow_fallbacks?: boolean | null | undefined;
  require_parameters?: boolean | null | undefined;
  data_collection?: string | null | undefined;
  zdr?: boolean | null | undefined;
  enforce_distillable_text?: boolean | null | undefined;
  order?: Array<Schema5$Outbound> | null | undefined;
  only?: Array<Schema5$Outbound> | null | undefined;
  ignore?: Array<Schema5$Outbound> | null | undefined;
  quantizations?: Array<string> | null | undefined;
  sort?: ProviderSortUnion$Outbound | null | undefined;
  max_price?: Schema10$Outbound | undefined;
  preferred_min_throughput?: number | Schema15$Outbound | null | undefined;
  preferred_max_latency?: number | Schema15$Outbound | null | undefined;
};

/** @internal */
export const Schema0$outboundSchema: z.ZodType<Schema0$Outbound, Schema0> = z
  .object({
    allowFallbacks: z.nullable(z.boolean()).optional(),
    requireParameters: z.nullable(z.boolean()).optional(),
    dataCollection: z.nullable(Schema3$outboundSchema).optional(),
    zdr: z.nullable(z.boolean()).optional(),
    enforceDistillableText: z.nullable(z.boolean()).optional(),
    order: z.nullable(z.array(Schema5$outboundSchema)).optional(),
    only: z.nullable(z.array(Schema5$outboundSchema)).optional(),
    ignore: z.nullable(z.array(Schema5$outboundSchema)).optional(),
    quantizations: z.nullable(z.array(Schema8$outboundSchema)).optional(),
    sort: z.nullable(ProviderSortUnion$outboundSchema).optional(),
    maxPrice: Schema10$outboundSchema.optional(),
    preferredMinThroughput: z.nullable(
      z.union([z.number(), z.lazy(() => Schema15$outboundSchema)]),
    ).optional(),
    preferredMaxLatency: z.nullable(
      z.union([z.number(), z.lazy(() => Schema15$outboundSchema)]),
    ).optional(),
  }).transform((v) => {
    return remap$(v, {
      allowFallbacks: "allow_fallbacks",
      requireParameters: "require_parameters",
      dataCollection: "data_collection",
      enforceDistillableText: "enforce_distillable_text",
      maxPrice: "max_price",
      preferredMinThroughput: "preferred_min_throughput",
      preferredMaxLatency: "preferred_max_latency",
    });
  });

export function schema0ToJSON(schema0: Schema0): string {
  return JSON.stringify(Schema0$outboundSchema.parse(schema0));
}

/** @internal */
export const Route$outboundSchema: z.ZodType<string, Route> = openEnums
  .outboundSchema(Route);

/** @internal */
export const Effort$outboundSchema: z.ZodType<string, Effort> = openEnums
  .outboundSchema(Effort);

/** @internal */
export type Reasoning$Outbound = {
  effort?: string | null | undefined;
  summary?: string | null | undefined;
};

/** @internal */
export const Reasoning$outboundSchema: z.ZodType<
  Reasoning$Outbound,
  Reasoning
> = z.object({
  effort: z.nullable(Effort$outboundSchema).optional(),
  summary: z.nullable(ReasoningSummaryVerbosity$outboundSchema).optional(),
});

export function reasoningToJSON(reasoning: Reasoning): string {
  return JSON.stringify(Reasoning$outboundSchema.parse(reasoning));
}

/** @internal */
export type ResponseFormatPython$Outbound = {
  type: "python";
};

/** @internal */
export const ResponseFormatPython$outboundSchema: z.ZodType<
  ResponseFormatPython$Outbound,
  ResponseFormatPython
> = z.object({
  type: z.literal("python"),
});

export function responseFormatPythonToJSON(
  responseFormatPython: ResponseFormatPython,
): string {
  return JSON.stringify(
    ResponseFormatPython$outboundSchema.parse(responseFormatPython),
  );
}

/** @internal */
export type ResponseFormatJSONObject$Outbound = {
  type: "json_object";
};

/** @internal */
export const ResponseFormatJSONObject$outboundSchema: z.ZodType<
  ResponseFormatJSONObject$Outbound,
  ResponseFormatJSONObject
> = z.object({
  type: z.literal("json_object"),
});

export function responseFormatJSONObjectToJSON(
  responseFormatJSONObject: ResponseFormatJSONObject,
): string {
  return JSON.stringify(
    ResponseFormatJSONObject$outboundSchema.parse(responseFormatJSONObject),
  );
}

/** @internal */
export type ResponseFormatText$Outbound = {
  type: "text";
};

/** @internal */
export const ResponseFormatText$outboundSchema: z.ZodType<
  ResponseFormatText$Outbound,
  ResponseFormatText
> = z.object({
  type: z.literal("text"),
});

export function responseFormatTextToJSON(
  responseFormatText: ResponseFormatText,
): string {
  return JSON.stringify(
    ResponseFormatText$outboundSchema.parse(responseFormatText),
  );
}

/** @internal */
export type ResponseFormat$Outbound =
  | ResponseFormatText$Outbound
  | ResponseFormatJSONObject$Outbound
  | ResponseFormatJSONSchema$Outbound
  | ResponseFormatTextGrammar$Outbound
  | ResponseFormatPython$Outbound;

/** @internal */
export const ResponseFormat$outboundSchema: z.ZodType<
  ResponseFormat$Outbound,
  ResponseFormat
> = z.union([
  z.lazy(() => ResponseFormatText$outboundSchema),
  z.lazy(() => ResponseFormatJSONObject$outboundSchema),
  ResponseFormatJSONSchema$outboundSchema,
  ResponseFormatTextGrammar$outboundSchema,
  z.lazy(() => ResponseFormatPython$outboundSchema),
]);

export function responseFormatToJSON(responseFormat: ResponseFormat): string {
  return JSON.stringify(ResponseFormat$outboundSchema.parse(responseFormat));
}

/** @internal */
export type Stop$Outbound = string | Array<string>;

/** @internal */
export const Stop$outboundSchema: z.ZodType<Stop$Outbound, Stop> = z.union([
  z.string(),
  z.array(z.string()),
]);

export function stopToJSON(stop: Stop): string {
  return JSON.stringify(Stop$outboundSchema.parse(stop));
}

/** @internal */
export type Debug$Outbound = {
  echo_upstream_body?: boolean | undefined;
};

/** @internal */
export const Debug$outboundSchema: z.ZodType<Debug$Outbound, Debug> = z.object({
  echoUpstreamBody: z.boolean().optional(),
}).transform((v) => {
  return remap$(v, {
    echoUpstreamBody: "echo_upstream_body",
  });
});

export function debugToJSON(debug: Debug): string {
  return JSON.stringify(Debug$outboundSchema.parse(debug));
}

/** @internal */
export type ChatGenerationParamsImageConfig$Outbound =
  | string
  | number
  | Array<any>;

/** @internal */
export const ChatGenerationParamsImageConfig$outboundSchema: z.ZodType<
  ChatGenerationParamsImageConfig$Outbound,
  ChatGenerationParamsImageConfig
> = z.union([z.string(), z.number(), z.array(z.any())]);

export function chatGenerationParamsImageConfigToJSON(
  chatGenerationParamsImageConfig: ChatGenerationParamsImageConfig,
): string {
  return JSON.stringify(
    ChatGenerationParamsImageConfig$outboundSchema.parse(
      chatGenerationParamsImageConfig,
    ),
  );
}

/** @internal */
export const Modality$outboundSchema: z.ZodType<string, Modality> = openEnums
  .outboundSchema(Modality);

/** @internal */
export type ChatGenerationParams$Outbound = {
  provider?: Schema0$Outbound | null | undefined;
  plugins?: Array<Schema17$Outbound> | undefined;
  route?: string | null | undefined;
  user?: string | undefined;
  session_id?: string | undefined;
  trace?: Schema19$Outbound | undefined;
  messages: Array<Message$Outbound>;
  model?: string | undefined;
  models?: Array<string> | undefined;
  frequency_penalty?: number | null | undefined;
  logit_bias?: { [k: string]: number } | null | undefined;
  logprobs?: boolean | null | undefined;
  top_logprobs?: number | null | undefined;
  max_completion_tokens?: number | null | undefined;
  max_tokens?: number | null | undefined;
  metadata?: { [k: string]: string } | undefined;
  presence_penalty?: number | null | undefined;
  reasoning?: Reasoning$Outbound | undefined;
  response_format?:
    | ResponseFormatText$Outbound
    | ResponseFormatJSONObject$Outbound
    | ResponseFormatJSONSchema$Outbound
    | ResponseFormatTextGrammar$Outbound
    | ResponseFormatPython$Outbound
    | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream: boolean;
  stream_options?: ChatStreamOptions$Outbound | null | undefined;
  temperature?: number | null | undefined;
  tool_choice?: any | undefined;
  tools?: Array<ToolDefinitionJson$Outbound> | undefined;
  top_p?: number | null | undefined;
  debug?: Debug$Outbound | undefined;
  image_config?: { [k: string]: string | number | Array<any> } | undefined;
  modalities?: Array<string> | undefined;
};

/** @internal */
export const ChatGenerationParams$outboundSchema: z.ZodType<
  ChatGenerationParams$Outbound,
  ChatGenerationParams
> = z.object({
  provider: z.nullable(z.lazy(() => Schema0$outboundSchema)).optional(),
  plugins: z.array(Schema17$outboundSchema).optional(),
  route: z.nullable(Route$outboundSchema).optional(),
  user: z.string().optional(),
  sessionId: z.string().optional(),
  trace: Schema19$outboundSchema.optional(),
  messages: z.array(Message$outboundSchema),
  model: z.string().optional(),
  models: z.array(z.string()).optional(),
  frequencyPenalty: z.nullable(z.number()).optional(),
  logitBias: z.nullable(z.record(z.string(), z.number())).optional(),
  logprobs: z.nullable(z.boolean()).optional(),
  topLogprobs: z.nullable(z.number()).optional(),
  maxCompletionTokens: z.nullable(z.number()).optional(),
  maxTokens: z.nullable(z.number()).optional(),
  metadata: z.record(z.string(), z.string()).optional(),
  presencePenalty: z.nullable(z.number()).optional(),
  reasoning: z.lazy(() => Reasoning$outboundSchema).optional(),
  responseFormat: z.union([
    z.lazy(() => ResponseFormatText$outboundSchema),
    z.lazy(() => ResponseFormatJSONObject$outboundSchema),
    ResponseFormatJSONSchema$outboundSchema,
    ResponseFormatTextGrammar$outboundSchema,
    z.lazy(() => ResponseFormatPython$outboundSchema),
  ]).optional(),
  seed: z.nullable(z.int()).optional(),
  stop: z.nullable(z.union([z.string(), z.array(z.string())])).optional(),
  stream: z.boolean().default(false),
  streamOptions: z.nullable(ChatStreamOptions$outboundSchema).optional(),
  temperature: z.nullable(z.number()).optional(),
  toolChoice: z.any().optional(),
  tools: z.array(ToolDefinitionJson$outboundSchema).optional(),
  topP: z.nullable(z.number()).optional(),
  debug: z.lazy(() => Debug$outboundSchema).optional(),
  imageConfig: z.record(
    z.string(),
    z.union([z.string(), z.number(), z.array(z.any())]),
  ).optional(),
  modalities: z.array(Modality$outboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    sessionId: "session_id",
    frequencyPenalty: "frequency_penalty",
    logitBias: "logit_bias",
    topLogprobs: "top_logprobs",
    maxCompletionTokens: "max_completion_tokens",
    maxTokens: "max_tokens",
    presencePenalty: "presence_penalty",
    responseFormat: "response_format",
    streamOptions: "stream_options",
    toolChoice: "tool_choice",
    topP: "top_p",
    imageConfig: "image_config",
  });
});

export function chatGenerationParamsToJSON(
  chatGenerationParams: ChatGenerationParams,
): string {
  return JSON.stringify(
    ChatGenerationParams$outboundSchema.parse(chatGenerationParams),
  );
}
