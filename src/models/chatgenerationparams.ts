/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4";
import { remap as remap$ } from "../lib/primitives.js";
import { OpenEnum, Unrecognized } from "../types/enums.js";
import {
  ChatStreamOptions,
  ChatStreamOptions$Outbound,
  ChatStreamOptions$outboundSchema,
} from "./chatstreamoptions.js";
import {
  Message,
  Message$Outbound,
  Message$outboundSchema,
} from "./message.js";
import {
  ReasoningSummaryVerbosity,
  ReasoningSummaryVerbosity$outboundSchema,
} from "./reasoningsummaryverbosity.js";
import {
  ResponseFormatJSONSchema,
  ResponseFormatJSONSchema$Outbound,
  ResponseFormatJSONSchema$outboundSchema,
} from "./responseformatjsonschema.js";
import {
  ResponseFormatTextGrammar,
  ResponseFormatTextGrammar$Outbound,
  ResponseFormatTextGrammar$outboundSchema,
} from "./responseformattextgrammar.js";
import {
  ToolDefinitionJson,
  ToolDefinitionJson$Outbound,
  ToolDefinitionJson$outboundSchema,
} from "./tooldefinitionjson.js";

export const Effort = {
  Minimal: "minimal",
  Low: "low",
  Medium: "medium",
  High: "high",
} as const;
export type Effort = OpenEnum<typeof Effort>;

export type Reasoning = {
  effort?: Effort | null | undefined;
  summary?: ReasoningSummaryVerbosity | null | undefined;
};

export type ChatGenerationParamsResponseFormatPython = {
  type: "python";
};

export type ChatGenerationParamsResponseFormatJSONObject = {
  type: "json_object";
};

export type ChatGenerationParamsResponseFormatText = {
  type: "text";
};

export type ChatGenerationParamsResponseFormatUnion =
  | ResponseFormatJSONSchema
  | ResponseFormatTextGrammar
  | ChatGenerationParamsResponseFormatText
  | ChatGenerationParamsResponseFormatJSONObject
  | ChatGenerationParamsResponseFormatPython;

export type ChatGenerationParamsStop = string | Array<string>;

export type ChatGenerationParams = {
  messages: Array<Message>;
  model?: string | undefined;
  models?: Array<string> | undefined;
  frequencyPenalty?: number | null | undefined;
  logitBias?: { [k: string]: number } | null | undefined;
  logprobs?: boolean | null | undefined;
  topLogprobs?: number | null | undefined;
  maxCompletionTokens?: number | null | undefined;
  maxTokens?: number | null | undefined;
  metadata?: { [k: string]: string } | undefined;
  presencePenalty?: number | null | undefined;
  reasoning?: Reasoning | undefined;
  responseFormat?:
    | ResponseFormatJSONSchema
    | ResponseFormatTextGrammar
    | ChatGenerationParamsResponseFormatText
    | ChatGenerationParamsResponseFormatJSONObject
    | ChatGenerationParamsResponseFormatPython
    | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream?: boolean | undefined;
  streamOptions?: ChatStreamOptions | null | undefined;
  temperature?: number | null | undefined;
  toolChoice?: any | undefined;
  tools?: Array<ToolDefinitionJson> | undefined;
  topP?: number | null | undefined;
  user?: string | undefined;
};

/** @internal */
export const Effort$outboundSchema: z.ZodType<Effort, Effort> = z.union([
  z.enum(Effort),
  z.string().and(z.custom<Unrecognized<string>>()),
]);

/** @internal */
export type Reasoning$Outbound = {
  effort?: string | null | undefined;
  summary?: string | null | undefined;
};

/** @internal */
export const Reasoning$outboundSchema: z.ZodType<
  Reasoning$Outbound,
  Reasoning
> = z.object({
  effort: z.nullable(Effort$outboundSchema).optional(),
  summary: z.nullable(ReasoningSummaryVerbosity$outboundSchema).optional(),
});

export function reasoningToJSON(reasoning: Reasoning): string {
  return JSON.stringify(Reasoning$outboundSchema.parse(reasoning));
}

/** @internal */
export type ChatGenerationParamsResponseFormatPython$Outbound = {
  type: "python";
};

/** @internal */
export const ChatGenerationParamsResponseFormatPython$outboundSchema: z.ZodType<
  ChatGenerationParamsResponseFormatPython$Outbound,
  ChatGenerationParamsResponseFormatPython
> = z.object({
  type: z.literal("python"),
});

export function chatGenerationParamsResponseFormatPythonToJSON(
  chatGenerationParamsResponseFormatPython:
    ChatGenerationParamsResponseFormatPython,
): string {
  return JSON.stringify(
    ChatGenerationParamsResponseFormatPython$outboundSchema.parse(
      chatGenerationParamsResponseFormatPython,
    ),
  );
}

/** @internal */
export type ChatGenerationParamsResponseFormatJSONObject$Outbound = {
  type: "json_object";
};

/** @internal */
export const ChatGenerationParamsResponseFormatJSONObject$outboundSchema:
  z.ZodType<
    ChatGenerationParamsResponseFormatJSONObject$Outbound,
    ChatGenerationParamsResponseFormatJSONObject
  > = z.object({
    type: z.literal("json_object"),
  });

export function chatGenerationParamsResponseFormatJSONObjectToJSON(
  chatGenerationParamsResponseFormatJSONObject:
    ChatGenerationParamsResponseFormatJSONObject,
): string {
  return JSON.stringify(
    ChatGenerationParamsResponseFormatJSONObject$outboundSchema.parse(
      chatGenerationParamsResponseFormatJSONObject,
    ),
  );
}

/** @internal */
export type ChatGenerationParamsResponseFormatText$Outbound = {
  type: "text";
};

/** @internal */
export const ChatGenerationParamsResponseFormatText$outboundSchema: z.ZodType<
  ChatGenerationParamsResponseFormatText$Outbound,
  ChatGenerationParamsResponseFormatText
> = z.object({
  type: z.literal("text"),
});

export function chatGenerationParamsResponseFormatTextToJSON(
  chatGenerationParamsResponseFormatText:
    ChatGenerationParamsResponseFormatText,
): string {
  return JSON.stringify(
    ChatGenerationParamsResponseFormatText$outboundSchema.parse(
      chatGenerationParamsResponseFormatText,
    ),
  );
}

/** @internal */
export type ChatGenerationParamsResponseFormatUnion$Outbound =
  | ResponseFormatJSONSchema$Outbound
  | ResponseFormatTextGrammar$Outbound
  | ChatGenerationParamsResponseFormatText$Outbound
  | ChatGenerationParamsResponseFormatJSONObject$Outbound
  | ChatGenerationParamsResponseFormatPython$Outbound;

/** @internal */
export const ChatGenerationParamsResponseFormatUnion$outboundSchema: z.ZodType<
  ChatGenerationParamsResponseFormatUnion$Outbound,
  ChatGenerationParamsResponseFormatUnion
> = z.union([
  ResponseFormatJSONSchema$outboundSchema,
  ResponseFormatTextGrammar$outboundSchema,
  z.lazy(() => ChatGenerationParamsResponseFormatText$outboundSchema),
  z.lazy(() => ChatGenerationParamsResponseFormatJSONObject$outboundSchema),
  z.lazy(() => ChatGenerationParamsResponseFormatPython$outboundSchema),
]);

export function chatGenerationParamsResponseFormatUnionToJSON(
  chatGenerationParamsResponseFormatUnion:
    ChatGenerationParamsResponseFormatUnion,
): string {
  return JSON.stringify(
    ChatGenerationParamsResponseFormatUnion$outboundSchema.parse(
      chatGenerationParamsResponseFormatUnion,
    ),
  );
}

/** @internal */
export type ChatGenerationParamsStop$Outbound = string | Array<string>;

/** @internal */
export const ChatGenerationParamsStop$outboundSchema: z.ZodType<
  ChatGenerationParamsStop$Outbound,
  ChatGenerationParamsStop
> = z.union([z.string(), z.array(z.string())]);

export function chatGenerationParamsStopToJSON(
  chatGenerationParamsStop: ChatGenerationParamsStop,
): string {
  return JSON.stringify(
    ChatGenerationParamsStop$outboundSchema.parse(chatGenerationParamsStop),
  );
}

/** @internal */
export type ChatGenerationParams$Outbound = {
  messages: Array<Message$Outbound>;
  model?: string | undefined;
  models?: Array<string> | undefined;
  frequency_penalty?: number | null | undefined;
  logit_bias?: { [k: string]: number } | null | undefined;
  logprobs?: boolean | null | undefined;
  top_logprobs?: number | null | undefined;
  max_completion_tokens?: number | null | undefined;
  max_tokens?: number | null | undefined;
  metadata?: { [k: string]: string } | undefined;
  presence_penalty?: number | null | undefined;
  reasoning?: Reasoning$Outbound | undefined;
  response_format?:
    | ResponseFormatJSONSchema$Outbound
    | ResponseFormatTextGrammar$Outbound
    | ChatGenerationParamsResponseFormatText$Outbound
    | ChatGenerationParamsResponseFormatJSONObject$Outbound
    | ChatGenerationParamsResponseFormatPython$Outbound
    | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream: boolean;
  stream_options?: ChatStreamOptions$Outbound | null | undefined;
  temperature?: number | null | undefined;
  tool_choice?: any | undefined;
  tools?: Array<ToolDefinitionJson$Outbound> | undefined;
  top_p?: number | null | undefined;
  user?: string | undefined;
};

/** @internal */
export const ChatGenerationParams$outboundSchema: z.ZodType<
  ChatGenerationParams$Outbound,
  ChatGenerationParams
> = z.object({
  messages: z.array(Message$outboundSchema),
  model: z.string().optional(),
  models: z.array(z.string()).optional(),
  frequencyPenalty: z.nullable(z.number()).optional(),
  logitBias: z.nullable(z.record(z.string(), z.number())).optional(),
  logprobs: z.nullable(z.boolean()).optional(),
  topLogprobs: z.nullable(z.number()).optional(),
  maxCompletionTokens: z.nullable(z.number()).optional(),
  maxTokens: z.nullable(z.number()).optional(),
  metadata: z.record(z.string(), z.string()).optional(),
  presencePenalty: z.nullable(z.number()).optional(),
  reasoning: z.lazy(() => Reasoning$outboundSchema).optional(),
  responseFormat: z.union([
    ResponseFormatJSONSchema$outboundSchema,
    ResponseFormatTextGrammar$outboundSchema,
    z.lazy(() => ChatGenerationParamsResponseFormatText$outboundSchema),
    z.lazy(() => ChatGenerationParamsResponseFormatJSONObject$outboundSchema),
    z.lazy(() => ChatGenerationParamsResponseFormatPython$outboundSchema),
  ]).optional(),
  seed: z.nullable(z.number().int()).optional(),
  stop: z.nullable(z.union([z.string(), z.array(z.string())])).optional(),
  stream: z.boolean().default(false),
  streamOptions: z.nullable(ChatStreamOptions$outboundSchema).optional(),
  temperature: z.nullable(z.number()).optional(),
  toolChoice: z.any().optional(),
  tools: z.array(ToolDefinitionJson$outboundSchema).optional(),
  topP: z.nullable(z.number()).optional(),
  user: z.string().optional(),
}).transform((v) => {
  return remap$(v, {
    frequencyPenalty: "frequency_penalty",
    logitBias: "logit_bias",
    topLogprobs: "top_logprobs",
    maxCompletionTokens: "max_completion_tokens",
    maxTokens: "max_tokens",
    presencePenalty: "presence_penalty",
    responseFormat: "response_format",
    streamOptions: "stream_options",
    toolChoice: "tool_choice",
    topP: "top_p",
  });
});

export function chatGenerationParamsToJSON(
  chatGenerationParams: ChatGenerationParams,
): string {
  return JSON.stringify(
    ChatGenerationParams$outboundSchema.parse(chatGenerationParams),
  );
}
