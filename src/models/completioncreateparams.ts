/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4";
import { remap as remap$ } from "../lib/primitives.js";
import {
  ResponseFormatJSONSchema,
  ResponseFormatJSONSchema$Outbound,
  ResponseFormatJSONSchema$outboundSchema,
} from "./responseformatjsonschema.js";
import {
  ResponseFormatTextGrammar,
  ResponseFormatTextGrammar$Outbound,
  ResponseFormatTextGrammar$outboundSchema,
} from "./responseformattextgrammar.js";

export type Prompt =
  | string
  | Array<string>
  | Array<number>
  | Array<Array<number>>;

export type CompletionCreateParamsStop = string | Array<string>;

export type StreamOptions = {
  includeUsage?: boolean | null | undefined;
};

export type CompletionCreateParamsResponseFormatPython = {
  type: "python";
};

export type CompletionCreateParamsResponseFormatJSONObject = {
  type: "json_object";
};

export type CompletionCreateParamsResponseFormatText = {
  type: "text";
};

export type CompletionCreateParamsResponseFormatUnion =
  | CompletionCreateParamsResponseFormatText
  | CompletionCreateParamsResponseFormatJSONObject
  | ResponseFormatJSONSchema
  | ResponseFormatTextGrammar
  | CompletionCreateParamsResponseFormatPython;

export type CompletionCreateParams = {
  model?: string | undefined;
  models?: Array<string> | undefined;
  prompt: string | Array<string> | Array<number> | Array<Array<number>>;
  bestOf?: number | null | undefined;
  echo?: boolean | null | undefined;
  frequencyPenalty?: number | null | undefined;
  logitBias?: { [k: string]: number } | null | undefined;
  logprobs?: number | null | undefined;
  maxTokens?: number | null | undefined;
  n?: number | null | undefined;
  presencePenalty?: number | null | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream?: boolean | undefined;
  streamOptions?: StreamOptions | null | undefined;
  suffix?: string | null | undefined;
  temperature?: number | null | undefined;
  topP?: number | null | undefined;
  user?: string | undefined;
  metadata?: { [k: string]: string } | null | undefined;
  responseFormat?:
    | CompletionCreateParamsResponseFormatText
    | CompletionCreateParamsResponseFormatJSONObject
    | ResponseFormatJSONSchema
    | ResponseFormatTextGrammar
    | CompletionCreateParamsResponseFormatPython
    | null
    | undefined;
};

/** @internal */
export type Prompt$Outbound =
  | string
  | Array<string>
  | Array<number>
  | Array<Array<number>>;

/** @internal */
export const Prompt$outboundSchema: z.ZodType<Prompt$Outbound, Prompt> = z
  .union([
    z.string(),
    z.array(z.string()),
    z.array(z.number()),
    z.array(z.array(z.number())),
  ]);

export function promptToJSON(prompt: Prompt): string {
  return JSON.stringify(Prompt$outboundSchema.parse(prompt));
}

/** @internal */
export type CompletionCreateParamsStop$Outbound = string | Array<string>;

/** @internal */
export const CompletionCreateParamsStop$outboundSchema: z.ZodType<
  CompletionCreateParamsStop$Outbound,
  CompletionCreateParamsStop
> = z.union([z.string(), z.array(z.string())]);

export function completionCreateParamsStopToJSON(
  completionCreateParamsStop: CompletionCreateParamsStop,
): string {
  return JSON.stringify(
    CompletionCreateParamsStop$outboundSchema.parse(completionCreateParamsStop),
  );
}

/** @internal */
export type StreamOptions$Outbound = {
  include_usage?: boolean | null | undefined;
};

/** @internal */
export const StreamOptions$outboundSchema: z.ZodType<
  StreamOptions$Outbound,
  StreamOptions
> = z.object({
  includeUsage: z.nullable(z.boolean()).optional(),
}).transform((v) => {
  return remap$(v, {
    includeUsage: "include_usage",
  });
});

export function streamOptionsToJSON(streamOptions: StreamOptions): string {
  return JSON.stringify(StreamOptions$outboundSchema.parse(streamOptions));
}

/** @internal */
export type CompletionCreateParamsResponseFormatPython$Outbound = {
  type: "python";
};

/** @internal */
export const CompletionCreateParamsResponseFormatPython$outboundSchema:
  z.ZodType<
    CompletionCreateParamsResponseFormatPython$Outbound,
    CompletionCreateParamsResponseFormatPython
  > = z.object({
    type: z.literal("python"),
  });

export function completionCreateParamsResponseFormatPythonToJSON(
  completionCreateParamsResponseFormatPython:
    CompletionCreateParamsResponseFormatPython,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatPython$outboundSchema.parse(
      completionCreateParamsResponseFormatPython,
    ),
  );
}

/** @internal */
export type CompletionCreateParamsResponseFormatJSONObject$Outbound = {
  type: "json_object";
};

/** @internal */
export const CompletionCreateParamsResponseFormatJSONObject$outboundSchema:
  z.ZodType<
    CompletionCreateParamsResponseFormatJSONObject$Outbound,
    CompletionCreateParamsResponseFormatJSONObject
  > = z.object({
    type: z.literal("json_object"),
  });

export function completionCreateParamsResponseFormatJSONObjectToJSON(
  completionCreateParamsResponseFormatJSONObject:
    CompletionCreateParamsResponseFormatJSONObject,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatJSONObject$outboundSchema.parse(
      completionCreateParamsResponseFormatJSONObject,
    ),
  );
}

/** @internal */
export type CompletionCreateParamsResponseFormatText$Outbound = {
  type: "text";
};

/** @internal */
export const CompletionCreateParamsResponseFormatText$outboundSchema: z.ZodType<
  CompletionCreateParamsResponseFormatText$Outbound,
  CompletionCreateParamsResponseFormatText
> = z.object({
  type: z.literal("text"),
});

export function completionCreateParamsResponseFormatTextToJSON(
  completionCreateParamsResponseFormatText:
    CompletionCreateParamsResponseFormatText,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatText$outboundSchema.parse(
      completionCreateParamsResponseFormatText,
    ),
  );
}

/** @internal */
export type CompletionCreateParamsResponseFormatUnion$Outbound =
  | CompletionCreateParamsResponseFormatText$Outbound
  | CompletionCreateParamsResponseFormatJSONObject$Outbound
  | ResponseFormatJSONSchema$Outbound
  | ResponseFormatTextGrammar$Outbound
  | CompletionCreateParamsResponseFormatPython$Outbound;

/** @internal */
export const CompletionCreateParamsResponseFormatUnion$outboundSchema:
  z.ZodType<
    CompletionCreateParamsResponseFormatUnion$Outbound,
    CompletionCreateParamsResponseFormatUnion
  > = z.union([
    z.lazy(() => CompletionCreateParamsResponseFormatText$outboundSchema),
    z.lazy(() => CompletionCreateParamsResponseFormatJSONObject$outboundSchema),
    ResponseFormatJSONSchema$outboundSchema,
    ResponseFormatTextGrammar$outboundSchema,
    z.lazy(() => CompletionCreateParamsResponseFormatPython$outboundSchema),
  ]);

export function completionCreateParamsResponseFormatUnionToJSON(
  completionCreateParamsResponseFormatUnion:
    CompletionCreateParamsResponseFormatUnion,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatUnion$outboundSchema.parse(
      completionCreateParamsResponseFormatUnion,
    ),
  );
}

/** @internal */
export type CompletionCreateParams$Outbound = {
  model?: string | undefined;
  models?: Array<string> | undefined;
  prompt: string | Array<string> | Array<number> | Array<Array<number>>;
  best_of?: number | null | undefined;
  echo?: boolean | null | undefined;
  frequency_penalty?: number | null | undefined;
  logit_bias?: { [k: string]: number } | null | undefined;
  logprobs?: number | null | undefined;
  max_tokens?: number | null | undefined;
  n?: number | null | undefined;
  presence_penalty?: number | null | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream: boolean;
  stream_options?: StreamOptions$Outbound | null | undefined;
  suffix?: string | null | undefined;
  temperature?: number | null | undefined;
  top_p?: number | null | undefined;
  user?: string | undefined;
  metadata?: { [k: string]: string } | null | undefined;
  response_format?:
    | CompletionCreateParamsResponseFormatText$Outbound
    | CompletionCreateParamsResponseFormatJSONObject$Outbound
    | ResponseFormatJSONSchema$Outbound
    | ResponseFormatTextGrammar$Outbound
    | CompletionCreateParamsResponseFormatPython$Outbound
    | null
    | undefined;
};

/** @internal */
export const CompletionCreateParams$outboundSchema: z.ZodType<
  CompletionCreateParams$Outbound,
  CompletionCreateParams
> = z.object({
  model: z.string().optional(),
  models: z.array(z.string()).optional(),
  prompt: z.union([
    z.string(),
    z.array(z.string()),
    z.array(z.number()),
    z.array(z.array(z.number())),
  ]),
  bestOf: z.nullable(z.int()).optional(),
  echo: z.nullable(z.boolean()).optional(),
  frequencyPenalty: z.nullable(z.number()).optional(),
  logitBias: z.nullable(z.record(z.string(), z.number())).optional(),
  logprobs: z.nullable(z.int()).optional(),
  maxTokens: z.nullable(z.int()).optional(),
  n: z.nullable(z.int()).optional(),
  presencePenalty: z.nullable(z.number()).optional(),
  seed: z.nullable(z.int()).optional(),
  stop: z.nullable(z.union([z.string(), z.array(z.string())])).optional(),
  stream: z.boolean().default(false),
  streamOptions: z.nullable(z.lazy(() => StreamOptions$outboundSchema))
    .optional(),
  suffix: z.nullable(z.string()).optional(),
  temperature: z.nullable(z.number()).optional(),
  topP: z.nullable(z.number()).optional(),
  user: z.string().optional(),
  metadata: z.nullable(z.record(z.string(), z.string())).optional(),
  responseFormat: z.nullable(
    z.union([
      z.lazy(() => CompletionCreateParamsResponseFormatText$outboundSchema),
      z.lazy(() =>
        CompletionCreateParamsResponseFormatJSONObject$outboundSchema
      ),
      ResponseFormatJSONSchema$outboundSchema,
      ResponseFormatTextGrammar$outboundSchema,
      z.lazy(() => CompletionCreateParamsResponseFormatPython$outboundSchema),
    ]),
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    bestOf: "best_of",
    frequencyPenalty: "frequency_penalty",
    logitBias: "logit_bias",
    maxTokens: "max_tokens",
    presencePenalty: "presence_penalty",
    streamOptions: "stream_options",
    topP: "top_p",
    responseFormat: "response_format",
  });
});

export function completionCreateParamsToJSON(
  completionCreateParams: CompletionCreateParams,
): string {
  return JSON.stringify(
    CompletionCreateParams$outboundSchema.parse(completionCreateParams),
  );
}
