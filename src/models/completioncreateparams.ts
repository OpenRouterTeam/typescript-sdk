/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import {
  ResponseFormatJSONSchema,
  ResponseFormatJSONSchema$inboundSchema,
  ResponseFormatJSONSchema$Outbound,
  ResponseFormatJSONSchema$outboundSchema,
} from "./responseformatjsonschema.js";
import {
  ResponseFormatTextGrammar,
  ResponseFormatTextGrammar$inboundSchema,
  ResponseFormatTextGrammar$Outbound,
  ResponseFormatTextGrammar$outboundSchema,
} from "./responseformattextgrammar.js";

export type Prompt =
  | string
  | Array<string>
  | Array<number>
  | Array<Array<number>>;

export type CompletionCreateParamsStop = string | Array<string>;

export type StreamOptions = {
  includeUsage?: boolean | null | undefined;
};

export type CompletionCreateParamsResponseFormatPython = {
  type: "python";
};

export type CompletionCreateParamsResponseFormatJSONObject = {
  type: "json_object";
};

export type CompletionCreateParamsResponseFormatText = {
  type: "text";
};

export type CompletionCreateParamsResponseFormatUnion =
  | ResponseFormatJSONSchema
  | ResponseFormatTextGrammar
  | CompletionCreateParamsResponseFormatText
  | CompletionCreateParamsResponseFormatJSONObject
  | CompletionCreateParamsResponseFormatPython;

export type CompletionCreateParams = {
  model: string;
  prompt: string | Array<string> | Array<number> | Array<Array<number>>;
  bestOf?: number | null | undefined;
  echo?: boolean | null | undefined;
  frequencyPenalty?: number | null | undefined;
  logitBias?: { [k: string]: number } | null | undefined;
  logprobs?: number | null | undefined;
  maxTokens?: number | null | undefined;
  n?: number | null | undefined;
  presencePenalty?: number | null | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream?: boolean | null | undefined;
  streamOptions?: StreamOptions | null | undefined;
  suffix?: string | null | undefined;
  temperature?: number | null | undefined;
  topP?: number | null | undefined;
  user?: string | undefined;
  metadata?: { [k: string]: string } | null | undefined;
  responseFormat?:
    | ResponseFormatJSONSchema
    | ResponseFormatTextGrammar
    | CompletionCreateParamsResponseFormatText
    | CompletionCreateParamsResponseFormatJSONObject
    | CompletionCreateParamsResponseFormatPython
    | null
    | undefined;
};

/** @internal */
export const Prompt$inboundSchema: z.ZodType<Prompt, unknown> = z.union([
  z.string(),
  z.array(z.string()),
  z.array(z.number()),
  z.array(z.array(z.number())),
]);

/** @internal */
export type Prompt$Outbound =
  | string
  | Array<string>
  | Array<number>
  | Array<Array<number>>;

/** @internal */
export const Prompt$outboundSchema: z.ZodType<Prompt$Outbound, Prompt> = z
  .union([
    z.string(),
    z.array(z.string()),
    z.array(z.number()),
    z.array(z.array(z.number())),
  ]);

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Prompt$ {
  /** @deprecated use `Prompt$inboundSchema` instead. */
  export const inboundSchema = Prompt$inboundSchema;
  /** @deprecated use `Prompt$outboundSchema` instead. */
  export const outboundSchema = Prompt$outboundSchema;
  /** @deprecated use `Prompt$Outbound` instead. */
  export type Outbound = Prompt$Outbound;
}

export function promptToJSON(prompt: Prompt): string {
  return JSON.stringify(Prompt$outboundSchema.parse(prompt));
}

export function promptFromJSON(
  jsonString: string,
): SafeParseResult<Prompt, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Prompt$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Prompt' from JSON`,
  );
}

/** @internal */
export const CompletionCreateParamsStop$inboundSchema: z.ZodType<
  CompletionCreateParamsStop,
  unknown
> = z.union([z.string(), z.array(z.string())]);

/** @internal */
export type CompletionCreateParamsStop$Outbound = string | Array<string>;

/** @internal */
export const CompletionCreateParamsStop$outboundSchema: z.ZodType<
  CompletionCreateParamsStop$Outbound,
  CompletionCreateParamsStop
> = z.union([z.string(), z.array(z.string())]);

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CompletionCreateParamsStop$ {
  /** @deprecated use `CompletionCreateParamsStop$inboundSchema` instead. */
  export const inboundSchema = CompletionCreateParamsStop$inboundSchema;
  /** @deprecated use `CompletionCreateParamsStop$outboundSchema` instead. */
  export const outboundSchema = CompletionCreateParamsStop$outboundSchema;
  /** @deprecated use `CompletionCreateParamsStop$Outbound` instead. */
  export type Outbound = CompletionCreateParamsStop$Outbound;
}

export function completionCreateParamsStopToJSON(
  completionCreateParamsStop: CompletionCreateParamsStop,
): string {
  return JSON.stringify(
    CompletionCreateParamsStop$outboundSchema.parse(completionCreateParamsStop),
  );
}

export function completionCreateParamsStopFromJSON(
  jsonString: string,
): SafeParseResult<CompletionCreateParamsStop, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CompletionCreateParamsStop$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CompletionCreateParamsStop' from JSON`,
  );
}

/** @internal */
export const StreamOptions$inboundSchema: z.ZodType<StreamOptions, unknown> = z
  .object({
    include_usage: z.nullable(z.boolean()).optional(),
  }).transform((v) => {
    return remap$(v, {
      "include_usage": "includeUsage",
    });
  });

/** @internal */
export type StreamOptions$Outbound = {
  include_usage?: boolean | null | undefined;
};

/** @internal */
export const StreamOptions$outboundSchema: z.ZodType<
  StreamOptions$Outbound,
  StreamOptions
> = z.object({
  includeUsage: z.nullable(z.boolean()).optional(),
}).transform((v) => {
  return remap$(v, {
    includeUsage: "include_usage",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace StreamOptions$ {
  /** @deprecated use `StreamOptions$inboundSchema` instead. */
  export const inboundSchema = StreamOptions$inboundSchema;
  /** @deprecated use `StreamOptions$outboundSchema` instead. */
  export const outboundSchema = StreamOptions$outboundSchema;
  /** @deprecated use `StreamOptions$Outbound` instead. */
  export type Outbound = StreamOptions$Outbound;
}

export function streamOptionsToJSON(streamOptions: StreamOptions): string {
  return JSON.stringify(StreamOptions$outboundSchema.parse(streamOptions));
}

export function streamOptionsFromJSON(
  jsonString: string,
): SafeParseResult<StreamOptions, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => StreamOptions$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'StreamOptions' from JSON`,
  );
}

/** @internal */
export const CompletionCreateParamsResponseFormatPython$inboundSchema:
  z.ZodType<CompletionCreateParamsResponseFormatPython, unknown> = z.object({
    type: z.literal("python"),
  });

/** @internal */
export type CompletionCreateParamsResponseFormatPython$Outbound = {
  type: "python";
};

/** @internal */
export const CompletionCreateParamsResponseFormatPython$outboundSchema:
  z.ZodType<
    CompletionCreateParamsResponseFormatPython$Outbound,
    CompletionCreateParamsResponseFormatPython
  > = z.object({
    type: z.literal("python"),
  });

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CompletionCreateParamsResponseFormatPython$ {
  /** @deprecated use `CompletionCreateParamsResponseFormatPython$inboundSchema` instead. */
  export const inboundSchema =
    CompletionCreateParamsResponseFormatPython$inboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatPython$outboundSchema` instead. */
  export const outboundSchema =
    CompletionCreateParamsResponseFormatPython$outboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatPython$Outbound` instead. */
  export type Outbound = CompletionCreateParamsResponseFormatPython$Outbound;
}

export function completionCreateParamsResponseFormatPythonToJSON(
  completionCreateParamsResponseFormatPython:
    CompletionCreateParamsResponseFormatPython,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatPython$outboundSchema.parse(
      completionCreateParamsResponseFormatPython,
    ),
  );
}

export function completionCreateParamsResponseFormatPythonFromJSON(
  jsonString: string,
): SafeParseResult<
  CompletionCreateParamsResponseFormatPython,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      CompletionCreateParamsResponseFormatPython$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'CompletionCreateParamsResponseFormatPython' from JSON`,
  );
}

/** @internal */
export const CompletionCreateParamsResponseFormatJSONObject$inboundSchema:
  z.ZodType<CompletionCreateParamsResponseFormatJSONObject, unknown> = z.object(
    {
      type: z.literal("json_object"),
    },
  );

/** @internal */
export type CompletionCreateParamsResponseFormatJSONObject$Outbound = {
  type: "json_object";
};

/** @internal */
export const CompletionCreateParamsResponseFormatJSONObject$outboundSchema:
  z.ZodType<
    CompletionCreateParamsResponseFormatJSONObject$Outbound,
    CompletionCreateParamsResponseFormatJSONObject
  > = z.object({
    type: z.literal("json_object"),
  });

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CompletionCreateParamsResponseFormatJSONObject$ {
  /** @deprecated use `CompletionCreateParamsResponseFormatJSONObject$inboundSchema` instead. */
  export const inboundSchema =
    CompletionCreateParamsResponseFormatJSONObject$inboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatJSONObject$outboundSchema` instead. */
  export const outboundSchema =
    CompletionCreateParamsResponseFormatJSONObject$outboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatJSONObject$Outbound` instead. */
  export type Outbound =
    CompletionCreateParamsResponseFormatJSONObject$Outbound;
}

export function completionCreateParamsResponseFormatJSONObjectToJSON(
  completionCreateParamsResponseFormatJSONObject:
    CompletionCreateParamsResponseFormatJSONObject,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatJSONObject$outboundSchema.parse(
      completionCreateParamsResponseFormatJSONObject,
    ),
  );
}

export function completionCreateParamsResponseFormatJSONObjectFromJSON(
  jsonString: string,
): SafeParseResult<
  CompletionCreateParamsResponseFormatJSONObject,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      CompletionCreateParamsResponseFormatJSONObject$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'CompletionCreateParamsResponseFormatJSONObject' from JSON`,
  );
}

/** @internal */
export const CompletionCreateParamsResponseFormatText$inboundSchema: z.ZodType<
  CompletionCreateParamsResponseFormatText,
  unknown
> = z.object({
  type: z.literal("text"),
});

/** @internal */
export type CompletionCreateParamsResponseFormatText$Outbound = {
  type: "text";
};

/** @internal */
export const CompletionCreateParamsResponseFormatText$outboundSchema: z.ZodType<
  CompletionCreateParamsResponseFormatText$Outbound,
  CompletionCreateParamsResponseFormatText
> = z.object({
  type: z.literal("text"),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CompletionCreateParamsResponseFormatText$ {
  /** @deprecated use `CompletionCreateParamsResponseFormatText$inboundSchema` instead. */
  export const inboundSchema =
    CompletionCreateParamsResponseFormatText$inboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatText$outboundSchema` instead. */
  export const outboundSchema =
    CompletionCreateParamsResponseFormatText$outboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatText$Outbound` instead. */
  export type Outbound = CompletionCreateParamsResponseFormatText$Outbound;
}

export function completionCreateParamsResponseFormatTextToJSON(
  completionCreateParamsResponseFormatText:
    CompletionCreateParamsResponseFormatText,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatText$outboundSchema.parse(
      completionCreateParamsResponseFormatText,
    ),
  );
}

export function completionCreateParamsResponseFormatTextFromJSON(
  jsonString: string,
): SafeParseResult<
  CompletionCreateParamsResponseFormatText,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      CompletionCreateParamsResponseFormatText$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'CompletionCreateParamsResponseFormatText' from JSON`,
  );
}

/** @internal */
export const CompletionCreateParamsResponseFormatUnion$inboundSchema: z.ZodType<
  CompletionCreateParamsResponseFormatUnion,
  unknown
> = z.union([
  ResponseFormatJSONSchema$inboundSchema,
  ResponseFormatTextGrammar$inboundSchema,
  z.lazy(() => CompletionCreateParamsResponseFormatText$inboundSchema),
  z.lazy(() => CompletionCreateParamsResponseFormatJSONObject$inboundSchema),
  z.lazy(() => CompletionCreateParamsResponseFormatPython$inboundSchema),
]);

/** @internal */
export type CompletionCreateParamsResponseFormatUnion$Outbound =
  | ResponseFormatJSONSchema$Outbound
  | ResponseFormatTextGrammar$Outbound
  | CompletionCreateParamsResponseFormatText$Outbound
  | CompletionCreateParamsResponseFormatJSONObject$Outbound
  | CompletionCreateParamsResponseFormatPython$Outbound;

/** @internal */
export const CompletionCreateParamsResponseFormatUnion$outboundSchema:
  z.ZodType<
    CompletionCreateParamsResponseFormatUnion$Outbound,
    CompletionCreateParamsResponseFormatUnion
  > = z.union([
    ResponseFormatJSONSchema$outboundSchema,
    ResponseFormatTextGrammar$outboundSchema,
    z.lazy(() => CompletionCreateParamsResponseFormatText$outboundSchema),
    z.lazy(() => CompletionCreateParamsResponseFormatJSONObject$outboundSchema),
    z.lazy(() => CompletionCreateParamsResponseFormatPython$outboundSchema),
  ]);

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CompletionCreateParamsResponseFormatUnion$ {
  /** @deprecated use `CompletionCreateParamsResponseFormatUnion$inboundSchema` instead. */
  export const inboundSchema =
    CompletionCreateParamsResponseFormatUnion$inboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatUnion$outboundSchema` instead. */
  export const outboundSchema =
    CompletionCreateParamsResponseFormatUnion$outboundSchema;
  /** @deprecated use `CompletionCreateParamsResponseFormatUnion$Outbound` instead. */
  export type Outbound = CompletionCreateParamsResponseFormatUnion$Outbound;
}

export function completionCreateParamsResponseFormatUnionToJSON(
  completionCreateParamsResponseFormatUnion:
    CompletionCreateParamsResponseFormatUnion,
): string {
  return JSON.stringify(
    CompletionCreateParamsResponseFormatUnion$outboundSchema.parse(
      completionCreateParamsResponseFormatUnion,
    ),
  );
}

export function completionCreateParamsResponseFormatUnionFromJSON(
  jsonString: string,
): SafeParseResult<
  CompletionCreateParamsResponseFormatUnion,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      CompletionCreateParamsResponseFormatUnion$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'CompletionCreateParamsResponseFormatUnion' from JSON`,
  );
}

/** @internal */
export const CompletionCreateParams$inboundSchema: z.ZodType<
  CompletionCreateParams,
  unknown
> = z.object({
  model: z.string(),
  prompt: z.union([
    z.string(),
    z.array(z.string()),
    z.array(z.number()),
    z.array(z.array(z.number())),
  ]),
  best_of: z.nullable(z.number().int()).optional(),
  echo: z.nullable(z.boolean()).optional(),
  frequency_penalty: z.nullable(z.number()).optional(),
  logit_bias: z.nullable(z.record(z.string(), z.number())).optional(),
  logprobs: z.nullable(z.number().int()).optional(),
  max_tokens: z.nullable(z.number().int()).optional(),
  n: z.nullable(z.number().int()).optional(),
  presence_penalty: z.nullable(z.number()).optional(),
  seed: z.nullable(z.number().int()).optional(),
  stop: z.nullable(z.union([z.string(), z.array(z.string())])).optional(),
  stream: z.nullable(z.boolean()).optional(),
  stream_options: z.nullable(z.lazy(() => StreamOptions$inboundSchema))
    .optional(),
  suffix: z.nullable(z.string()).optional(),
  temperature: z.nullable(z.number()).optional(),
  top_p: z.nullable(z.number()).optional(),
  user: z.string().optional(),
  metadata: z.nullable(z.record(z.string(), z.string())).optional(),
  response_format: z.nullable(
    z.union([
      ResponseFormatJSONSchema$inboundSchema,
      ResponseFormatTextGrammar$inboundSchema,
      z.lazy(() => CompletionCreateParamsResponseFormatText$inboundSchema),
      z.lazy(() =>
        CompletionCreateParamsResponseFormatJSONObject$inboundSchema
      ),
      z.lazy(() => CompletionCreateParamsResponseFormatPython$inboundSchema),
    ]),
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    "best_of": "bestOf",
    "frequency_penalty": "frequencyPenalty",
    "logit_bias": "logitBias",
    "max_tokens": "maxTokens",
    "presence_penalty": "presencePenalty",
    "stream_options": "streamOptions",
    "top_p": "topP",
    "response_format": "responseFormat",
  });
});

/** @internal */
export type CompletionCreateParams$Outbound = {
  model: string;
  prompt: string | Array<string> | Array<number> | Array<Array<number>>;
  best_of?: number | null | undefined;
  echo?: boolean | null | undefined;
  frequency_penalty?: number | null | undefined;
  logit_bias?: { [k: string]: number } | null | undefined;
  logprobs?: number | null | undefined;
  max_tokens?: number | null | undefined;
  n?: number | null | undefined;
  presence_penalty?: number | null | undefined;
  seed?: number | null | undefined;
  stop?: string | Array<string> | null | undefined;
  stream?: boolean | null | undefined;
  stream_options?: StreamOptions$Outbound | null | undefined;
  suffix?: string | null | undefined;
  temperature?: number | null | undefined;
  top_p?: number | null | undefined;
  user?: string | undefined;
  metadata?: { [k: string]: string } | null | undefined;
  response_format?:
    | ResponseFormatJSONSchema$Outbound
    | ResponseFormatTextGrammar$Outbound
    | CompletionCreateParamsResponseFormatText$Outbound
    | CompletionCreateParamsResponseFormatJSONObject$Outbound
    | CompletionCreateParamsResponseFormatPython$Outbound
    | null
    | undefined;
};

/** @internal */
export const CompletionCreateParams$outboundSchema: z.ZodType<
  CompletionCreateParams$Outbound,
  CompletionCreateParams
> = z.object({
  model: z.string(),
  prompt: z.union([
    z.string(),
    z.array(z.string()),
    z.array(z.number()),
    z.array(z.array(z.number())),
  ]),
  bestOf: z.nullable(z.number().int()).optional(),
  echo: z.nullable(z.boolean()).optional(),
  frequencyPenalty: z.nullable(z.number()).optional(),
  logitBias: z.nullable(z.record(z.string(), z.number())).optional(),
  logprobs: z.nullable(z.number().int()).optional(),
  maxTokens: z.nullable(z.number().int()).optional(),
  n: z.nullable(z.number().int()).optional(),
  presencePenalty: z.nullable(z.number()).optional(),
  seed: z.nullable(z.number().int()).optional(),
  stop: z.nullable(z.union([z.string(), z.array(z.string())])).optional(),
  stream: z.nullable(z.boolean()).optional(),
  streamOptions: z.nullable(z.lazy(() => StreamOptions$outboundSchema))
    .optional(),
  suffix: z.nullable(z.string()).optional(),
  temperature: z.nullable(z.number()).optional(),
  topP: z.nullable(z.number()).optional(),
  user: z.string().optional(),
  metadata: z.nullable(z.record(z.string(), z.string())).optional(),
  responseFormat: z.nullable(
    z.union([
      ResponseFormatJSONSchema$outboundSchema,
      ResponseFormatTextGrammar$outboundSchema,
      z.lazy(() => CompletionCreateParamsResponseFormatText$outboundSchema),
      z.lazy(() =>
        CompletionCreateParamsResponseFormatJSONObject$outboundSchema
      ),
      z.lazy(() => CompletionCreateParamsResponseFormatPython$outboundSchema),
    ]),
  ).optional(),
}).transform((v) => {
  return remap$(v, {
    bestOf: "best_of",
    frequencyPenalty: "frequency_penalty",
    logitBias: "logit_bias",
    maxTokens: "max_tokens",
    presencePenalty: "presence_penalty",
    streamOptions: "stream_options",
    topP: "top_p",
    responseFormat: "response_format",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace CompletionCreateParams$ {
  /** @deprecated use `CompletionCreateParams$inboundSchema` instead. */
  export const inboundSchema = CompletionCreateParams$inboundSchema;
  /** @deprecated use `CompletionCreateParams$outboundSchema` instead. */
  export const outboundSchema = CompletionCreateParams$outboundSchema;
  /** @deprecated use `CompletionCreateParams$Outbound` instead. */
  export type Outbound = CompletionCreateParams$Outbound;
}

export function completionCreateParamsToJSON(
  completionCreateParams: CompletionCreateParams,
): string {
  return JSON.stringify(
    CompletionCreateParams$outboundSchema.parse(completionCreateParams),
  );
}

export function completionCreateParamsFromJSON(
  jsonString: string,
): SafeParseResult<CompletionCreateParams, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => CompletionCreateParams$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CompletionCreateParams' from JSON`,
  );
}
