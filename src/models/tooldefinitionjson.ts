/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: 546c340f3013
 */

import * as z from "zod/v4";
import { remap as remap$ } from "../lib/primitives.js";
import { ClosedEnum } from "../types/enums.js";
import {
  ChatMessageContentItemCacheControl,
  ChatMessageContentItemCacheControl$Outbound,
  ChatMessageContentItemCacheControl$outboundSchema,
} from "./chatmessagecontentitemcachecontrol.js";

export const ToolDefinitionJsonType = {
  Function: "function",
} as const;
export type ToolDefinitionJsonType = ClosedEnum<typeof ToolDefinitionJsonType>;

/**
 * Function definition for tool calling
 */
export type ToolDefinitionJsonFunction = {
  /**
   * Function name (a-z, A-Z, 0-9, underscores, dashes, max 64 chars)
   */
  name: string;
  /**
   * Function description for the model
   */
  description?: string | undefined;
  /**
   * Function parameters as JSON Schema object
   */
  parameters?: { [k: string]: any | null } | undefined;
  /**
   * Enable strict schema adherence
   */
  strict?: boolean | null | undefined;
};

/**
 * Tool definition for function calling
 */
export type ToolDefinitionJson = {
  type: ToolDefinitionJsonType;
  /**
   * Function definition for tool calling
   */
  function: ToolDefinitionJsonFunction;
  /**
   * Cache control for the content part
   */
  cacheControl?: ChatMessageContentItemCacheControl | undefined;
};

/** @internal */
export const ToolDefinitionJsonType$outboundSchema: z.ZodEnum<
  typeof ToolDefinitionJsonType
> = z.enum(ToolDefinitionJsonType);

/** @internal */
export type ToolDefinitionJsonFunction$Outbound = {
  name: string;
  description?: string | undefined;
  parameters?: { [k: string]: any | null } | undefined;
  strict?: boolean | null | undefined;
};

/** @internal */
export const ToolDefinitionJsonFunction$outboundSchema: z.ZodType<
  ToolDefinitionJsonFunction$Outbound,
  ToolDefinitionJsonFunction
> = z.object({
  name: z.string(),
  description: z.string().optional(),
  parameters: z.record(z.string(), z.nullable(z.any())).optional(),
  strict: z.nullable(z.boolean()).optional(),
});

export function toolDefinitionJsonFunctionToJSON(
  toolDefinitionJsonFunction: ToolDefinitionJsonFunction,
): string {
  return JSON.stringify(
    ToolDefinitionJsonFunction$outboundSchema.parse(toolDefinitionJsonFunction),
  );
}

/** @internal */
export type ToolDefinitionJson$Outbound = {
  type: string;
  function: ToolDefinitionJsonFunction$Outbound;
  cache_control?: ChatMessageContentItemCacheControl$Outbound | undefined;
};

/** @internal */
export const ToolDefinitionJson$outboundSchema: z.ZodType<
  ToolDefinitionJson$Outbound,
  ToolDefinitionJson
> = z.object({
  type: ToolDefinitionJsonType$outboundSchema,
  function: z.lazy(() => ToolDefinitionJsonFunction$outboundSchema),
  cacheControl: ChatMessageContentItemCacheControl$outboundSchema.optional(),
}).transform((v) => {
  return remap$(v, {
    cacheControl: "cache_control",
  });
});

export function toolDefinitionJsonToJSON(
  toolDefinitionJson: ToolDefinitionJson,
): string {
  return JSON.stringify(
    ToolDefinitionJson$outboundSchema.parse(toolDefinitionJson),
  );
}
