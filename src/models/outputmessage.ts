/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: fa128cf87d51
 */

import type { ClosedEnum } from '../types/enums.js';
import type { Result as SafeParseResult } from '../types/fp.js';
import type { SDKValidationError } from './errors/sdkvalidationerror.js';
import type { OpenAIResponsesRefusalContent } from './openairesponsesrefusalcontent.js';
import type { ResponseOutputText } from './responseoutputtext.js';

import * as z from 'zod/v4';
import { safeParse } from '../lib/schemas.js';
import { OpenAIResponsesRefusalContent$inboundSchema } from './openairesponsesrefusalcontent.js';
import { ResponseOutputText$inboundSchema } from './responseoutputtext.js';

export const OutputMessageRole = {
  Assistant: 'assistant',
} as const;
export type OutputMessageRole = ClosedEnum<typeof OutputMessageRole>;

export const OutputMessageType = {
  Message: 'message',
} as const;
export type OutputMessageType = ClosedEnum<typeof OutputMessageType>;

export const OutputMessageStatusInProgress = {
  InProgress: 'in_progress',
} as const;
export type OutputMessageStatusInProgress = ClosedEnum<typeof OutputMessageStatusInProgress>;

export const OutputMessageStatusIncomplete = {
  Incomplete: 'incomplete',
} as const;
export type OutputMessageStatusIncomplete = ClosedEnum<typeof OutputMessageStatusIncomplete>;

export const OutputMessageStatusCompleted = {
  Completed: 'completed',
} as const;
export type OutputMessageStatusCompleted = ClosedEnum<typeof OutputMessageStatusCompleted>;

export type OutputMessageStatusUnion =
  | OutputMessageStatusCompleted
  | OutputMessageStatusIncomplete
  | OutputMessageStatusInProgress;

export type OutputMessageContent = ResponseOutputText | OpenAIResponsesRefusalContent;

export type OutputMessage = {
  id: string;
  role: OutputMessageRole;
  type: OutputMessageType;
  status?:
    | OutputMessageStatusCompleted
    | OutputMessageStatusIncomplete
    | OutputMessageStatusInProgress
    | undefined;
  content: Array<ResponseOutputText | OpenAIResponsesRefusalContent>;
};

/** @internal */
export const OutputMessageRole$inboundSchema: z.ZodEnum<typeof OutputMessageRole> =
  z.enum(OutputMessageRole);

/** @internal */
export const OutputMessageType$inboundSchema: z.ZodEnum<typeof OutputMessageType> =
  z.enum(OutputMessageType);

/** @internal */
export const OutputMessageStatusInProgress$inboundSchema: z.ZodEnum<
  typeof OutputMessageStatusInProgress
> = z.enum(OutputMessageStatusInProgress);

/** @internal */
export const OutputMessageStatusIncomplete$inboundSchema: z.ZodEnum<
  typeof OutputMessageStatusIncomplete
> = z.enum(OutputMessageStatusIncomplete);

/** @internal */
export const OutputMessageStatusCompleted$inboundSchema: z.ZodEnum<
  typeof OutputMessageStatusCompleted
> = z.enum(OutputMessageStatusCompleted);

/** @internal */
export const OutputMessageStatusUnion$inboundSchema: z.ZodType<OutputMessageStatusUnion, unknown> =
  z.union([
    OutputMessageStatusCompleted$inboundSchema,
    OutputMessageStatusIncomplete$inboundSchema,
    OutputMessageStatusInProgress$inboundSchema,
  ]);

export function outputMessageStatusUnionFromJSON(
  jsonString: string,
): SafeParseResult<OutputMessageStatusUnion, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => OutputMessageStatusUnion$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'OutputMessageStatusUnion' from JSON`,
  );
}

/** @internal */
export const OutputMessageContent$inboundSchema: z.ZodType<OutputMessageContent, unknown> = z.union(
  [
    ResponseOutputText$inboundSchema,
    OpenAIResponsesRefusalContent$inboundSchema,
  ],
);

export function outputMessageContentFromJSON(
  jsonString: string,
): SafeParseResult<OutputMessageContent, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => OutputMessageContent$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'OutputMessageContent' from JSON`,
  );
}

/** @internal */
export const OutputMessage$inboundSchema: z.ZodType<OutputMessage, unknown> = z.object({
  id: z.string(),
  role: OutputMessageRole$inboundSchema,
  type: OutputMessageType$inboundSchema,
  status: z
    .union([
      OutputMessageStatusCompleted$inboundSchema,
      OutputMessageStatusIncomplete$inboundSchema,
      OutputMessageStatusInProgress$inboundSchema,
    ])
    .optional(),
  content: z.array(
    z.union([
      ResponseOutputText$inboundSchema,
      OpenAIResponsesRefusalContent$inboundSchema,
    ]),
  ),
});

export function outputMessageFromJSON(
  jsonString: string,
): SafeParseResult<OutputMessage, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => OutputMessage$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'OutputMessage' from JSON`,
  );
}
