/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v4";
import {
  AssistantMessage,
  AssistantMessage$Outbound,
  AssistantMessage$outboundSchema,
} from "./assistantmessage.js";
import {
  ChatMessageContentItemText,
  ChatMessageContentItemText$Outbound,
  ChatMessageContentItemText$outboundSchema,
} from "./chatmessagecontentitemtext.js";
import {
  SystemMessage,
  SystemMessage$Outbound,
  SystemMessage$outboundSchema,
} from "./systemmessage.js";
import {
  ToolResponseMessage,
  ToolResponseMessage$Outbound,
  ToolResponseMessage$outboundSchema,
} from "./toolresponsemessage.js";
import {
  UserMessage,
  UserMessage$Outbound,
  UserMessage$outboundSchema,
} from "./usermessage.js";

export type MessageContent = string | Array<ChatMessageContentItemText>;

export type MessageDeveloper = {
  role: "developer";
  content: string | Array<ChatMessageContentItemText>;
  name?: string | undefined;
};

export type Message =
  | ToolResponseMessage
  | SystemMessage
  | UserMessage
  | MessageDeveloper
  | AssistantMessage;

/** @internal */
export type MessageContent$Outbound =
  | string
  | Array<ChatMessageContentItemText$Outbound>;

/** @internal */
export const MessageContent$outboundSchema: z.ZodType<
  MessageContent$Outbound,
  MessageContent
> = z.union([z.string(), z.array(ChatMessageContentItemText$outboundSchema)]);

export function messageContentToJSON(messageContent: MessageContent): string {
  return JSON.stringify(MessageContent$outboundSchema.parse(messageContent));
}

/** @internal */
export type MessageDeveloper$Outbound = {
  role: "developer";
  content: string | Array<ChatMessageContentItemText$Outbound>;
  name?: string | undefined;
};

/** @internal */
export const MessageDeveloper$outboundSchema: z.ZodType<
  MessageDeveloper$Outbound,
  MessageDeveloper
> = z.object({
  role: z.literal("developer"),
  content: z.union([
    z.string(),
    z.array(ChatMessageContentItemText$outboundSchema),
  ]),
  name: z.string().optional(),
});

export function messageDeveloperToJSON(
  messageDeveloper: MessageDeveloper,
): string {
  return JSON.stringify(
    MessageDeveloper$outboundSchema.parse(messageDeveloper),
  );
}

/** @internal */
export type Message$Outbound =
  | ToolResponseMessage$Outbound
  | SystemMessage$Outbound
  | UserMessage$Outbound
  | MessageDeveloper$Outbound
  | AssistantMessage$Outbound;

/** @internal */
export const Message$outboundSchema: z.ZodType<Message$Outbound, Message> = z
  .union([
    ToolResponseMessage$outboundSchema,
    SystemMessage$outboundSchema,
    UserMessage$outboundSchema,
    z.lazy(() => MessageDeveloper$outboundSchema),
    AssistantMessage$outboundSchema,
  ]);

export function messageToJSON(message: Message): string {
  return JSON.stringify(Message$outboundSchema.parse(message));
}
