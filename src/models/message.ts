/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 * @generated-id: 34645e53d993
 */

import type { AssistantMessage, AssistantMessage$Outbound } from './assistantmessage.js';
import type {
  ChatMessageContentItemText,
  ChatMessageContentItemText$Outbound,
} from './chatmessagecontentitemtext.js';
import type { SystemMessage, SystemMessage$Outbound } from './systemmessage.js';
import type { ToolResponseMessage, ToolResponseMessage$Outbound } from './toolresponsemessage.js';
import type { UserMessage, UserMessage$Outbound } from './usermessage.js';

import * as z from 'zod/v4';
import { AssistantMessage$outboundSchema } from './assistantmessage.js';
import { ChatMessageContentItemText$outboundSchema } from './chatmessagecontentitemtext.js';
import { SystemMessage$outboundSchema } from './systemmessage.js';
import { ToolResponseMessage$outboundSchema } from './toolresponsemessage.js';
import { UserMessage$outboundSchema } from './usermessage.js';

export type MessageContent = string | Array<ChatMessageContentItemText>;

export type MessageDeveloper = {
  role: 'developer';
  content: string | Array<ChatMessageContentItemText>;
  name?: string | undefined;
};

export type Message =
  | SystemMessage
  | UserMessage
  | MessageDeveloper
  | AssistantMessage
  | ToolResponseMessage;

/** @internal */
export type MessageContent$Outbound = string | Array<ChatMessageContentItemText$Outbound>;

/** @internal */
export const MessageContent$outboundSchema: z.ZodType<MessageContent$Outbound, MessageContent> =
  z.union([
    z.string(),
    z.array(ChatMessageContentItemText$outboundSchema),
  ]);

export function messageContentToJSON(messageContent: MessageContent): string {
  return JSON.stringify(MessageContent$outboundSchema.parse(messageContent));
}

/** @internal */
export type MessageDeveloper$Outbound = {
  role: 'developer';
  content: string | Array<ChatMessageContentItemText$Outbound>;
  name?: string | undefined;
};

/** @internal */
export const MessageDeveloper$outboundSchema: z.ZodType<
  MessageDeveloper$Outbound,
  MessageDeveloper
> = z.object({
  role: z.literal('developer'),
  content: z.union([
    z.string(),
    z.array(ChatMessageContentItemText$outboundSchema),
  ]),
  name: z.string().optional(),
});

export function messageDeveloperToJSON(messageDeveloper: MessageDeveloper): string {
  return JSON.stringify(MessageDeveloper$outboundSchema.parse(messageDeveloper));
}

/** @internal */
export type Message$Outbound =
  | SystemMessage$Outbound
  | UserMessage$Outbound
  | MessageDeveloper$Outbound
  | AssistantMessage$Outbound
  | ToolResponseMessage$Outbound;

/** @internal */
export const Message$outboundSchema: z.ZodType<Message$Outbound, Message> = z.union([
  SystemMessage$outboundSchema,
  UserMessage$outboundSchema,
  z.lazy(() => MessageDeveloper$outboundSchema),
  AssistantMessage$outboundSchema,
  ToolResponseMessage$outboundSchema,
]);

export function messageToJSON(message: Message): string {
  return JSON.stringify(Message$outboundSchema.parse(message));
}
